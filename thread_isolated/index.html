<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `thread_isolated` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, thread_isolated">

    <title>thread_isolated - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'></p><script>window.sidebarCurrent = {name: 'thread_isolated', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>thread_isolated</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-0' class='srclink' href='../src/thread_isolated/lib.rs.html#1-406' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>ThreadIsolated is an experimental library for allowing non-<code>Send</code>, non-<code>Sync</code> types to be
shared among multiple threads by requiring that they only be accessed on the thread that
created and owns them. Other threads can indirectly access the isolated data by supplying a
closure that will be run on the owning thread.</p>

<p>The value of ThreadIsolated in a pure Rust application is probably pretty limited (maybe even
completely useless). The original motivation for the type is to use Rust on iOS, where it is
common to have instances that are only safe to be accessed on the iOS main thread.  Using
ThreadIsolated gives Rust a way to have types that are only accessed on the iOS main thread but
can still be used (albeit indirectly) from threads created in Rust.</p>

<p>In debug builds, <code>ThreadIsolated</code> will use thread-local storage and perform runtime checks that
all thread access obeys the expected rules. In release builds these checks are not performed.</p>

<p>For an example of ThreadIsolated in pure Rust code, see the <code>test_normal_use</code> function in the
<code>test</code> module of <code>src/lib.rs</code>.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                    <tr class=' module-item'>
                        <td><a class='struct' href='struct.Ref.html'
                               title='thread_isolated::Ref'>Ref</a></td>
                        <td class='docblock short'>
                             <p>Wraps a borrowed reference to a value in a <code>RefCell</code> box.
A wrapper type for an immutably borrowed value from a <code>RefCell&lt;T&gt;</code>.</p>

                        </td>
                    </tr>
                
                    <tr class=' module-item'>
                        <td><a class='struct' href='struct.RefMut.html'
                               title='thread_isolated::RefMut'>RefMut</a></td>
                        <td class='docblock short'>
                             <p>A wrapper type for a mutably borrowed value from a <code>RefCell&lt;T&gt;</code>.</p>

                        </td>
                    </tr>
                
                    <tr class=' module-item'>
                        <td><a class='struct' href='struct.ThreadIsolated.html'
                               title='thread_isolated::ThreadIsolated'>ThreadIsolated</a></td>
                        <td class='docblock short'>
                             <p>A reference-counted <code>RefCell&lt;T&gt;</code> exposed in two different ways, depending on the <code>ThreadKind</code>
phantom type.</p>

                        </td>
                    </tr>
                
                    <tr class=' module-item'>
                        <td><a class='struct' href='struct.ThreadIsolatedWeak.html'
                               title='thread_isolated::ThreadIsolatedWeak'>ThreadIsolatedWeak</a></td>
                        <td class='docblock short'>
                             <p>A weak reference to a <code>ThreadIsolated</code> value.</p>

                        </td>
                    </tr>
                </table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table>
                    <tr class=' module-item'>
                        <td><a class='enum' href='enum.NonOwningThread.html'
                               title='thread_isolated::NonOwningThread'>NonOwningThread</a></td>
                        <td class='docblock short'>
                             <p>Phantom type indicating a <code>ThreadIsolated</code> on a thread other than its owning thread.</p>

                        </td>
                    </tr>
                
                    <tr class=' module-item'>
                        <td><a class='enum' href='enum.OwningThread.html'
                               title='thread_isolated::OwningThread'>OwningThread</a></td>
                        <td class='docblock short'>
                             <p>Phantom type indicating a <code>ThreadIsolated</code> on its owning thread.</p>

                        </td>
                    </tr>
                </table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table>
                    <tr class=' module-item'>
                        <td><a class='trait' href='trait.IsolationRunner.html'
                               title='thread_isolated::IsolationRunner'>IsolationRunner</a></td>
                        <td class='docblock short'>
                             <p>A type that can run a given boxed closure on a particular thread.</p>

                        </td>
                    </tr>
                </table><h2 id='impls' class='section-header'><a href="#impls">Implementations</a></h2>
<table></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "thread_isolated";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>